using HarmonyLib;
using System.Collections.Generic;
using System.Linq;

namespace LethalCompanyVR
{
    [HarmonyPatch(typeof(PlayerActions))]
    [HarmonyPatch(MethodType.Constructor)]
    public class InputPatches
    {
        static IEnumerable<CodeInstruction> Transpiler(IEnumerable<CodeInstruction> instructions)
        {
            var codes = new List<CodeInstruction>(instructions);

            //codes[6].operand = "{\"name\":\"PlayerActions\",\"maps\":[{\"name\":\"Movement\",\"id\":\"1560e87b-23aa-4005-bf8b-264f6a3c3736\",\"actions\":[{\"name\":\"Look\",\"type\":\"Value\",\"id\":\"c63a6ade-6c5a-4659-9aa5-e336e7b9970f\",\"expectedControlType\":\"Vector2\",\"processors\":\"AxisDeadzone(max=1)\",\"interactions\":\"\",\"initialStateCheck\":true},{\"name\":\"Move\",\"type\":\"Value\",\"id\":\"1af759ec-380d-4f9b-9108-c4e024e17c3e\",\"expectedControlType\":\"Vector2\",\"processors\":\"AxisDeadzone(min=0.3,max=1)\",\"interactions\":\"\",\"initialStateCheck\":true},{\"name\":\"Jump\",\"type\":\"Button\",\"id\":\"29820219-83ac-41cb-9f43-9ba2bcb7882c\",\"expectedControlType\":\"Button\",\"processors\":\"\",\"interactions\":\"\",\"initialStateCheck\":false},{\"name\":\"Sprint\",\"type\":\"Value\",\"id\":\"38a90280-ca06-4012-853a-06cd9bf6cda3\",\"expectedControlType\":\"Button\",\"processors\":\"\",\"interactions\":\"\",\"initialStateCheck\":true},{\"name\":\"OpenMenu\",\"type\":\"Button\",\"id\":\"61f99167-dec0-46cb-a700-a21e900ddbe6\",\"expectedControlType\":\"Button\",\"processors\":\"\",\"interactions\":\"\",\"initialStateCheck\":false},{\"name\":\"Interact\",\"type\":\"Value\",\"id\":\"7dc7e4c4-a4eb-449d-a885-cf7ad4b8faaa\",\"expectedControlType\":\"\",\"processors\":\"\",\"interactions\":\"\",\"initialStateCheck\":true},{\"name\":\"Crouch\",\"type\":\"Button\",\"id\":\"a5e81f24-9799-4b3e-b009-386c60e18cc1\",\"expectedControlType\":\"Button\",\"processors\":\"\",\"interactions\":\"\",\"initialStateCheck\":false},{\"name\":\"Use\",\"type\":\"Button\",\"id\":\"afa10779-50c6-45ee-828e-2c782fd48921\",\"expectedControlType\":\"Button\",\"processors\":\"\",\"interactions\":\"\",\"initialStateCheck\":true},{\"name\":\"ActivateItem\",\"type\":\"Button\",\"id\":\"990dbbff-3266-4890-8b7d-da5d76679e09\",\"expectedControlType\":\"Button\",\"processors\":\"\",\"interactions\":\"\",\"initialStateCheck\":true},{\"name\":\"Discard\",\"type\":\"Button\",\"id\":\"a4608dd4-03c1-4f59-94e2-84a333a9981b\",\"expectedControlType\":\"Button\",\"processors\":\"\",\"interactions\":\"\",\"initialStateCheck\":false},{\"name\":\"SwitchItem\",\"type\":\"Value\",\"id\":\"c4f37a56-2df5-447b-8d60-98946d41bfe8\",\"expectedControlType\":\"Axis\",\"processors\":\"AxisDeadzone\",\"interactions\":\"\",\"initialStateCheck\":true},{\"name\":\"QEItemInteract\",\"type\":\"Value\",\"id\":\"e1790f23-249a-40a3-b51b-892fd6eb78d4\",\"expectedControlType\":\"Axis\",\"processors\":\"\",\"interactions\":\"\",\"initialStateCheck\":true},{\"name\":\"EnableChat\",\"type\":\"Button\",\"id\":\"58e1c009-b16f-4d4d-a0ee-1d2922c4a10f\",\"expectedControlType\":\"Button\",\"processors\":\"\",\"interactions\":\"\",\"initialStateCheck\":false},{\"name\":\"SubmitChat\",\"type\":\"Button\",\"id\":\"52ce15c0-45ed-4b05-98ed-04db00b51b35\",\"expectedControlType\":\"Button\",\"processors\":\"\",\"interactions\":\"\",\"initialStateCheck\":false},{\"name\":\"ReloadBatteries\",\"type\":\"Button\",\"id\":\"2f6bf1bd-1a9d-42de-bab3-345b343c4010\",\"expectedControlType\":\"Button\",\"processors\":\"\",\"interactions\":\"\",\"initialStateCheck\":false},{\"name\":\"SetFreeCamera\",\"type\":\"Button\",\"id\":\"f783bb29-6cc7-46ae-b08c-b5ec213df236\",\"expectedControlType\":\"Button\",\"processors\":\"\",\"interactions\":\"\",\"initialStateCheck\":false},{\"name\":\"InspectItem\",\"type\":\"Button\",\"id\":\"d22b85a2-31df-40ce-b54f-ef936324a412\",\"expectedControlType\":\"Button\",\"processors\":\"\",\"interactions\":\"\",\"initialStateCheck\":false},{\"name\":\"SpeedCheat\",\"type\":\"Button\",\"id\":\"1f917a99-4119-46b5-9cd3-a306bd7f7d4a\",\"expectedControlType\":\"Button\",\"processors\":\"\",\"interactions\":\"\",\"initialStateCheck\":false},{\"name\":\"PingScan\",\"type\":\"Button\",\"id\":\"10a87310-b590-4c4a-bb17-c6e801480dee\",\"expectedControlType\":\"Button\",\"processors\":\"\",\"interactions\":\"\",\"initialStateCheck\":false},{\"name\":\"VoiceButton\",\"type\":\"Value\",\"id\":\"c0b6b3e8-4fe6-46b7-896a-0e8e1f39bcff\",\"expectedControlType\":\"Button\",\"processors\":\"\",\"interactions\":\"\",\"initialStateCheck\":true},{\"name\":\"Emote1\",\"type\":\"Button\",\"id\":\"c6fba331-7cf2-4fd9-a214-f95c9182cb92\",\"expectedControlType\":\"Button\",\"processors\":\"\",\"interactions\":\"\",\"initialStateCheck\":false},{\"name\":\"Emote2\",\"type\":\"Button\",\"id\":\"02446a15-cc51-421a-8cde-feca90b28c42\",\"expectedControlType\":\"Button\",\"processors\":\"\",\"interactions\":\"\",\"initialStateCheck\":false},{\"name\":\"BuildMode\",\"type\":\"Button\",\"id\":\"31bb1483-6a93-4220-9542-6483a33469bd\",\"expectedControlType\":\"Button\",\"processors\":\"\",\"interactions\":\"\",\"initialStateCheck\":false},{\"name\":\"ConfirmBuildMode\",\"type\":\"Button\",\"id\":\"995cf773-e209-4596-b873-0ef4652542f1\",\"expectedControlType\":\"Button\",\"processors\":\"\",\"interactions\":\"\",\"initialStateCheck\":false},{\"name\":\"Delete\",\"type\":\"Button\",\"id\":\"c3fbd8b5-4e95-4a60-ae3a-907c2af57784\",\"expectedControlType\":\"Button\",\"processors\":\"\",\"interactions\":\"\",\"initialStateCheck\":false}],\"bindings\":[]}],\"controlSchemes\":[]}"; // Yeah fuck you

            return codes.AsEnumerable();
        }
    }
}
